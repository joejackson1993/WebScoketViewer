<!--The content below is only a placeholder and can be replaced.-->
<div style="text-align:center">
  <h1>
    {{ title }} {{ version }}
  </h1>
</div>

<input style="display: none" type="file" (change)="onFileChanged($event)" #fileInput>
<button mat-raised-button (click)="fileInput.click()">Select File</button>

<h2 *ngIf="request">Request URL: {{request._parsedURL.url}}</h2>
<h2>Request Frames</h2>
<mat-table [dataSource]="dataSource" matSort>

  <ng-container matColumnDef="time">
    <mat-header-cell *matHeaderCellDef mat-sort-header> Time </mat-header-cell>
    <mat-cell *matCellDef="let frame">{{frame.time}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="type">
    <mat-header-cell *matHeaderCellDef> Type </mat-header-cell>
    <mat-cell *matCellDef="let frame">{{frame.type}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="channel">
    <mat-header-cell *matHeaderCellDef> Channel </mat-header-cell>
    <mat-cell *matCellDef="let frame">{{frame.channel}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="clientId">
    <mat-header-cell *matHeaderCellDef> Client ID </mat-header-cell>
    <mat-cell *matCellDef="let frame">{{frame.clientId}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="successful">
    <mat-header-cell *matHeaderCellDef> Successful </mat-header-cell>
    <mat-cell *matCellDef="let frame">{{frame.successful}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="subscription">
    <mat-header-cell *matHeaderCellDef> Subscription </mat-header-cell>
    <mat-cell *matCellDef="let frame">{{frame.subscription}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="text">
    <mat-header-cell *matHeaderCellDef> Frame Content </mat-header-cell>
    <mat-cell *matCellDef="let frame">
      <ngx-json-viewer [json]="frame.text" [expanded]="false"></ngx-json-viewer>
    </mat-cell>
  </ng-container>


  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
</mat-table>